{% extends '../base.html' %}
{% block content %}
<!-- 面包屑 -->
{{ breadcrumb.init([{'url':'','title':'布置作业'}]) }}
<!-- END OF BREADCRUMBS -->
<div id="Anchor" class="w-base w-base-extraction  w-base-border">
    <div class="w-base-title">
        <h3><i class="fa fa-clock-o mr-5"></i>布置信息</h3>
    </div>
    <div class="w-base-container margin-top-15">
        <div class="t-del-homework" style="padding-left: 16px; padding-top: 0px">

            <div class="w-class-controls">
                <span style="float: left; padding-top: 10px">班级：</span>

                <div id="level_and_clazzs" class="w-border-list t-homeworkClass-list">
                    <ul style="width: 750px">
                        {% for clazz in classes %}
                        <li id="{{clazz._id.toString()}}" title="{{clazz.className}}">{{clazz.className |
                            subTitle(6)}}
                        </li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="Anchor2" class="w-base w-base-extraction  w-base-border">
    <div class="w-base-title">
        <h3><i class="fa fa-info-circle mr-5"></i>作业信息</h3>
    </div>
    <div class="w-base-container" style="margin-top: 15px;">
        <div class="t-del-homework" style="padding-left: 16px; padding-top: 0px">
            <div class="define">
                作业标题：
                <input id="homework-title" type="text" placeholder="比如：新概念英语第一单元单词巩固练习" value="{{homework.title}}"/>

            </div>
            <div class="define">
                完成奖励：
                <input id="finishAward" type="text" value="0"/>

            </div>
            <div class="define">
                满分奖励：
                <input id="performanceAward" type="text" value="0"/>

            </div>
            <div class="controls" style="margin: 15px 0;overflow: hidden;clear: both;">
                <span style="float: left; padding-top: 10px">知识重点：</span>
                <textarea class="w-textarea" rows="3" id="keyPoint" name="keyPoint"></textarea>
                <input type="hidden" value="" id="keyPointRecord" name="keyPointRecord"/>
            </div>

            <a class="w-btn w-btn-mini w-btn-orange" href="javascript:void(0);" id="localAudioUploadButton"
               style="margin-left: 68px">
                <i class="fa fa-cloud-upload"></i>上传录音</a>
            <span class="upload-local-audio-button"><a href="/teacher/guider" target="_blank">如何上传录音</a></span>
            <span class="upload-local-audio-icon">
                <i class="fa fa-question-circle"></i>
            </span>

            <div style="margin-left: -96px" id="keypoint-recording-display"></div>
        </div>
    </div>
</div>
<div id="Anchor3" class="w-base w-base-extraction  w-base-border">
    <div class="w-base-title">
        <h3><i class="fa fa-list mr-5"></i>题目列表</h3>
    </div>
    <div class="w-base-container" style="margin-top: 15px;">
        <div class="w-homework-total-info" style="margin-left: 85px">
            <a id="add-quiz" class="w-btn w-btn-green w-btn-mini" href="javascript:void(0);"
               style="margin-top: 1px"><span style="font-size: 14px;margin-right: 3px"><i class="fa fa-plus-square"></i></span>新建题目</a>
            <span class="w-homework-total-title">总计<span id="total-number"
                                                         class="w-homework-total-count">0</span>个题目</span>
        </div>

        <!-- 题目列表区域 START -->
        <ul id="questions-area" style="margin-left: 18px">


        </ul>
        <div class="w-homework-tip"><span>提示：当前无任何题目，请点击[新建题目]创建作业！</span></div>
        <div class="w-homework-store" style="display:none">
            <div class="btn-areas" style="text-align: center">
                <a class="jqibuttons" id="save-homework">保存作业</a>
            </div>
        </div>
        <!-- 题目列表区域 END -->
        <div style="background-color: #fff; height: 20px;"></div>
    </div>
    <!--<div style="margin-bottom: 15px; clear: both;background-color: #808080;height: 10px"></div>-->
</div>

<!-- 题型模版 -->
<div class="w-base w-base-border" style="display: none;" id="quiz-type-box">
    <div class="w-base-title">
        <h3>题目类型</h3>

        <div class="w-base-switch">
            <ul id="tab-title">
                <li class="active"><a href="javascript:void(0)"><span class="h-arrow"><i
                        class="w-icon-arrow w-icon-arrow-blue"></i></span><strong>选择题</strong></a></li>
                <li class=""><a href="javascript:void(0)"><span class="h-arrow"><i
                        class="w-icon-arrow w-icon-arrow-blue"></i></span><strong>图片选择题</strong></a></li>
                <li class=""><a href="javascript:void(0);"><span class="h-arrow"><i
                        class="w-icon-arrow w-icon-arrow-blue"></i></span><strong>填空题</strong></a></li>
                <li class=""><a href="javascript:void(0)"><span class="h-arrow"><i
                        class="w-icon-arrow w-icon-arrow-blue"></i></span><strong>语音题</strong></a></li>
                <li><a href="javascript:void(0);" class="msgclose layer-close-btn"><strong>x</strong></a></li>

            </ul>
        </div>

    </div>
    <!--template container-->
    <div class="w-base-container">
        <!--//start-->
        <div>

            <!-- 文字选择题-->
            <div class="w-quiz-type-container">
                <input type="hidden" name="eType" value="0">

                <div class="w-quiz-type-info">
                    <div class="w-quiz-type-title">
                        <span>计划出多少道题：</span>
                    </div>
                    <div class="w-quiz-type-counts">
                        <select class="dropdown w-quiz-type-select" name="quiz-count">
                            <option value="0">请选择</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                        </select>
                    </div>
                </div>
                <div class="w-quiz-type-info">
                    <div class="w-quiz-type-title">
                        <span>每道题几个选项：</span>
                    </div>
                    <div class="w-quiz-type-counts">
                        <select class="dropdown w-quiz-type-select" name="quiz-options">
                            <option value="0">请选择</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                        </select>
                    </div>
                </div>
            </div>

            <!--  图片选择题 -->
            <div class="w-quiz-type-container" style="display: none">
                <input type="hidden" name="eType" value="1">

                <div class="w-quiz-type-info">
                    <div class="w-quiz-type-title">
                        <span>计划出多少道题：</span>
                    </div>
                    <div class="w-quiz-type-counts">
                        <select class="dropdown w-quiz-type-select" name="quiz-count">
                            <option value="0">请选择</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                        </select>
                    </div>
                </div>
                <div class="w-quiz-type-info">
                    <div class="w-quiz-type-title">
                        <span>每道题几个选项：</span>
                    </div>
                    <div class="w-quiz-type-counts">
                        <select class="dropdown w-quiz-type-select" name="quiz-options">
                            <option value="0">请选择</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- 填空题 -->
            <div class="w-quiz-type-container" style="display: none">
                <input type="hidden" name="eType" value="2">

                <div class="w-quiz-type-info">
                    <div class="w-quiz-type-title">
                        <span>计划出多少道题：</span>
                    </div>
                    <div class="w-quiz-type-counts">
                        <select class="dropdown w-quiz-type-select" name="quiz-count">
                            <option value="0">请选择</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- 语音题 -->
            <div class="w-quiz-type-container" style="display: none">
                <input type="hidden" name="eType" value="3">

                <div class="w-quiz-type-info">
                    <div class="w-quiz-type-title">
                        <span>计划出多少道题：</span>
                    </div>
                    <div class="w-quiz-type-counts">
                        <select class="dropdown w-quiz-type-select" name="quiz-count">
                            <option value="0">请选择</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>


        <div style="margin: 38px auto;width:239px">
            <a class="w-btn w-btn-mini w-btn-iron-red layer-close-btn" href="javascript:void(0);">取消</a>
            <span class="w-quiz-type-distance"></span>
            <a class="w-btn w-btn-green w-btn-mini layer-ok-btn" href="javascript:void(0);">确定</a>
        </div>
        <div style="height: 10px;background: #fff"></div>
        <!--end//-->
    </div>
</div>

<div class="jqi" id="forward-to-classes" style="display: none;">
    <div class="jqiclose layer-close-btn">×</div>
    <div class="jqistate">
        <div class="jqititle ">提示</div>
        <div class="jqimessage ">
            <div class="define location">
                <span>现在还没有班级，不能布置作业！</span>
            </div>
        </div>
        <div class="jqibuttons ">
            <button class="layer-ok-btn">去新建班级</button>
        </div>
    </div>
</div>

<div class="jqi" id="add-homework-to-quizzes" style="display: none;">
    <div class="jqiclose layer-close-btn">×</div>
    <div class="jqistate">
        <div class="jqititle ">提示</div>
        <div class="jqimessage ">
            <div class="define location">
                <span style="font-size: 16px">是否将本次作业添加到题库，以便后续使用？</span>
            </div>
        </div>
        <div style="margin: 30px auto;width:240px">
            <a class="w-btn w-btn-mini w-btn-iron-red layer-close-btn" href="javascript:void(0);">否</a>
            <span class="w-quiz-type-distance"></span>
            <a class="w-btn w-btn-green w-btn-mini layer-ok-btn" href="javascript:void(0);">是</a>
        </div>
    </div>
</div>

<div class="continue-add-homework">
    <div class="title continue-create-homework">继续出题</div>
</div>
<input type="hidden" id="imageToken" value="{{imageToken}}"/>
<input type="hidden" id="schoolId" value="{{user.schoolId.toString()}}"/>

{% include '../../templates/exerciseTemplate.html' %}
{% endblock %}

{% block javascript %}
<script>
    window.exercises = {{quiz.exercises | json | safe}};
</script>
<script type="text/javascript" src="/js/lib/require.js"></script>
<script type="text/javascript" src="/js/config.js"></script>
<script>
    requirejs(['/js/app/teacher/homework/create-homework.js']);
</script>

{% endblock %}
